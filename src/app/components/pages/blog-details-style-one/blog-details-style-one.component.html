<div class="blog-details-area ptb-100">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-12">
        <div class="blog-details-desc">
          <!-- Display the blog image -->
          <div class="post-image">
            <img [src]="getImageUrl(blog.image_url)" width="100%" height="100%" alt="Blog Image" />
          </div>
          
          <!-- Display the blog title -->
          <h2>{{ blog?.title }}</h2>

          <!-- Display the blog description with sanitized HTML -->
          <div class="post-content">
            <div [innerHTML]="blog?.description | sanitizeHtml"></div>
          </div>
        </div>

        <!-- Comments Section -->
        <div class="comments-area">
          <h3 class="comments-title">{{ comments.length }} Comment(s):</h3>
          <ul class="comment-list">
            <li class="comment" *ngFor="let comment of comments">
              <article class="comment-body">
                <footer class="comment-meta">
                  <div class="comment-author vcard">
                    <b class="fn">{{ comment.name }}</b>
                    <span class="says">says:</span>
                  </div>
                  <div class="comment-metadata">
                    <span>{{ comment.date }}</span>
                  </div>
                </footer>
                <div class="comment-content">
                  <p>{{ comment.comments }}</p>
                </div>
              </article>
            </li>
          </ul>
          
          <!-- Comment form -->
          <div class="comment-respond">
            <h3 class="comment-reply-title">Leave a Reply</h3>
            <form [formGroup]="commentForm" (ngSubmit)="onSubmit()">
              <p class="comment-notes">
                <span>Your email address will not be published.</span>
                Required fields are marked <span class="required">*</span>
              </p>
              <p class="comment-form-author">
                <label>Name <span class="required">*</span></label>
                <input type="text" formControlName="name" placeholder="Your Name*" required>
              </p>
              <p class="comment-form-email">
                <label>Email <span class="required">*</span></label>
                <input type="email" formControlName="email" placeholder="Your Email*" required>
              </p>
              <p class="comment-form-comment">
                <label>Comment</label>
                <textarea formControlName="comments" cols="45" placeholder="Your Comment..." rows="5" maxlength="65525" required></textarea>
              </p>
              <p class="form-submit">
                <button type="submit" class="submit default-btn">Post A Comment</button>
              </p>
            </form>
          </div>
        </div>
      </div>
      
      <!-- Sidebar with related posts and search -->
      <div class="col-lg-4 col-md-12">
        <aside class="widget-area">
          <!-- Search Widget -->
          <div class="widget widget_search">
            <h3 class="widget-title">Search</h3>
            <form class="search-form">
              <label>
                <span class="screen-reader-text">Search for:</span>
                <input type="search" class="search-field" placeholder="Search...">
              </label>
              <button type="submit"><i class="bx bx-search-alt"></i></button>
            </form>
          </div>

          <!-- Related Posts Widget -->
          <div class="widget widget_odemy_posts_thumb">
            <h3 class="widget-title">Related Posts</h3>
            <article class="item" *ngFor="let post of relatedPosts">
              <a [routerLink]="['/single-blog', post.id]" class="thumb">
                <div class="article-image">
                  <img [src]="getImageUrl(post.image_url)" width="100%" height="auto" alt="{{ post.title }}" />
                </div>
              </a>
              <div class="info">
                <span>{{ post.createdAt | date: 'mediumDate' }}</span>
                <h4 class="title usmall"><a [routerLink]="['/single-blog', post.id]">{{ post.title }}</a></h4>
              </div>
            </article>
          </div>
        </aside>
      </div>
    </div>
  </div>
</div>
